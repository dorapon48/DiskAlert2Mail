2024/09/27
ディスクの容量を監視し，規定の容量になったらメール通知するプログラムを作る

まずはコマンドを作ってみる
連想配列が使えるらしい
いろいろできますなぁ
コンフィグファイルの形式はINIファイル形式で
必要なものを考えてみる...

2025/02/19
ログのディレクトリ名を変更
パッケージの名前を変更

わざわざアプリにする必要はないので，shellで作ってcornで動かせばよさそう
思ったけどこれCで書いた方が早くない？
Cで書いてみる
インテリセンスが効かないので何とかしてみる
ubuntu上からvscodeを開いたら行けた
コンフィグはini形式で書く

構造は，diskAlert.h, sendMail.h, conf.h, diskAlert2Mail.cの4つでやる
diskAlert.hはコンフィグからアラートを出すか決定する．
sendMail.hは指定したメールアドレスにメールを送信する．
conf.hはコンフィグファイルの読み込みを行い，使いやすくする
diskAlert2Mail.cは以上の統合

まず，conf.h
modeはいらん

.cを複数作ってどうやって使うのかと思っていたが，まとめてコンパイルできるのね
C++の方がよくないですか？
C++にしましょう

次回はC++で書くところから

2025/02/20
C++で書く

まず，dmniparserを書く
とりあえず読み込めるようになった．
名前を変更 dminiparser.cpp -> dmini.cpp
正しい値が入っているか確認する関数を追加...ok

2025/02/21
C++のヘッダーファイル等で分けて書いてみる．

getterその他もろもろが長くなりすぎる
configを返してくれれば使いやすいのでそれを返すだけのクラスにした方がいいかも
ヘッダーをconfigで分けて見る...ok
次は読み取りをできるだけ簡素化する
const std::string& strこれは，文字列をコピーしてしまうのを防ぐ意味があるらしい

2025/02/23
setconfigをわかりやすくした
入力規則をいろいろ定めたいが，今は完成を先にする
設定ファイルの読み取りはできたので，次はsendmail.cpp
Gmailなどを利用してメール送信はできるらしいが，自分で構築する？
自分で構築するのは独自ドメインが必要らしいので却下，
gmailを作成して自分で送ってみる
いろいろ見てみたけど，dockerで動かすこと前提みたいなのがあるので，dockerで作ることにしてみる
となると，pythonやnodeがよさそうに見える

次回，docker出現，デュエルスタンバイ！

2025/02/24
dockerで構築するぞ
ini以外で使いやすい設定ファイルがないか探す
tomlで書いてみよう
python, dockerの初期設定完了